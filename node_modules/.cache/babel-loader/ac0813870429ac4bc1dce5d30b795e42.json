{"ast":null,"code":"import { isServer } from '../target.js';\nconst SCROLL_LOCKING_ATTRIBUTE = 'data-lock-scrolling';\nconst SCROLL_LOCKING_HIDDEN_ATTRIBUTE = 'data-lock-scrolling-hidden';\nconst SCROLL_LOCKING_WRAPPER_ATTRIBUTE = 'data-lock-scrolling-wrapper';\nlet scrollPosition = 0;\nfunction isScrollBarVisible() {\n  const {\n    body\n  } = document;\n  return body.scrollHeight > body.clientHeight;\n}\nclass ScrollLockManager {\n  constructor() {\n    this.scrollLocks = 0;\n    this.locked = false;\n  }\n  registerScrollLock() {\n    this.scrollLocks += 1;\n    this.handleScrollLocking();\n  }\n  unregisterScrollLock() {\n    this.scrollLocks -= 1;\n    this.handleScrollLocking();\n  }\n  handleScrollLocking() {\n    if (isServer) return;\n    const {\n      scrollLocks\n    } = this;\n    const {\n      body\n    } = document;\n    const wrapper = body.firstElementChild;\n    if (scrollLocks === 0) {\n      body.removeAttribute(SCROLL_LOCKING_ATTRIBUTE);\n      body.removeAttribute(SCROLL_LOCKING_HIDDEN_ATTRIBUTE);\n      if (wrapper) {\n        wrapper.removeAttribute(SCROLL_LOCKING_WRAPPER_ATTRIBUTE);\n      }\n      window.scroll(0, scrollPosition);\n      this.locked = false;\n    } else if (scrollLocks > 0 && !this.locked) {\n      scrollPosition = window.pageYOffset;\n      body.setAttribute(SCROLL_LOCKING_ATTRIBUTE, '');\n      if (!isScrollBarVisible()) {\n        body.setAttribute(SCROLL_LOCKING_HIDDEN_ATTRIBUTE, '');\n      }\n      if (wrapper) {\n        wrapper.setAttribute(SCROLL_LOCKING_WRAPPER_ATTRIBUTE, '');\n        wrapper.scrollTop = scrollPosition;\n      }\n      this.locked = true;\n    }\n  }\n  resetScrollPosition() {\n    scrollPosition = 0;\n  }\n}\nexport { SCROLL_LOCKING_ATTRIBUTE, ScrollLockManager };","map":{"version":3,"names":["isServer","SCROLL_LOCKING_ATTRIBUTE","SCROLL_LOCKING_HIDDEN_ATTRIBUTE","SCROLL_LOCKING_WRAPPER_ATTRIBUTE","scrollPosition","isScrollBarVisible","body","document","scrollHeight","clientHeight","ScrollLockManager","constructor","scrollLocks","locked","registerScrollLock","handleScrollLocking","unregisterScrollLock","wrapper","firstElementChild","removeAttribute","window","scroll","pageYOffset","setAttribute","scrollTop","resetScrollPosition"],"sources":["/home/cedcoss/Desktop/redux-xhat-app/node_modules/@shopify/polaris/build/esm/utilities/scroll-lock-manager/scroll-lock-manager.js"],"sourcesContent":["import { isServer } from '../target.js';\n\nconst SCROLL_LOCKING_ATTRIBUTE = 'data-lock-scrolling';\nconst SCROLL_LOCKING_HIDDEN_ATTRIBUTE = 'data-lock-scrolling-hidden';\nconst SCROLL_LOCKING_WRAPPER_ATTRIBUTE = 'data-lock-scrolling-wrapper';\nlet scrollPosition = 0;\n\nfunction isScrollBarVisible() {\n  const {\n    body\n  } = document;\n  return body.scrollHeight > body.clientHeight;\n}\n\nclass ScrollLockManager {\n  constructor() {\n    this.scrollLocks = 0;\n    this.locked = false;\n  }\n\n  registerScrollLock() {\n    this.scrollLocks += 1;\n    this.handleScrollLocking();\n  }\n\n  unregisterScrollLock() {\n    this.scrollLocks -= 1;\n    this.handleScrollLocking();\n  }\n\n  handleScrollLocking() {\n    if (isServer) return;\n    const {\n      scrollLocks\n    } = this;\n    const {\n      body\n    } = document;\n    const wrapper = body.firstElementChild;\n\n    if (scrollLocks === 0) {\n      body.removeAttribute(SCROLL_LOCKING_ATTRIBUTE);\n      body.removeAttribute(SCROLL_LOCKING_HIDDEN_ATTRIBUTE);\n\n      if (wrapper) {\n        wrapper.removeAttribute(SCROLL_LOCKING_WRAPPER_ATTRIBUTE);\n      }\n\n      window.scroll(0, scrollPosition);\n      this.locked = false;\n    } else if (scrollLocks > 0 && !this.locked) {\n      scrollPosition = window.pageYOffset;\n      body.setAttribute(SCROLL_LOCKING_ATTRIBUTE, '');\n\n      if (!isScrollBarVisible()) {\n        body.setAttribute(SCROLL_LOCKING_HIDDEN_ATTRIBUTE, '');\n      }\n\n      if (wrapper) {\n        wrapper.setAttribute(SCROLL_LOCKING_WRAPPER_ATTRIBUTE, '');\n        wrapper.scrollTop = scrollPosition;\n      }\n\n      this.locked = true;\n    }\n  }\n\n  resetScrollPosition() {\n    scrollPosition = 0;\n  }\n\n}\n\nexport { SCROLL_LOCKING_ATTRIBUTE, ScrollLockManager };\n"],"mappings":"AAAA,SAASA,QAAQ,QAAQ,cAAc;AAEvC,MAAMC,wBAAwB,GAAG,qBAAqB;AACtD,MAAMC,+BAA+B,GAAG,4BAA4B;AACpE,MAAMC,gCAAgC,GAAG,6BAA6B;AACtE,IAAIC,cAAc,GAAG,CAAC;AAEtB,SAASC,kBAAkB,GAAG;EAC5B,MAAM;IACJC;EACF,CAAC,GAAGC,QAAQ;EACZ,OAAOD,IAAI,CAACE,YAAY,GAAGF,IAAI,CAACG,YAAY;AAC9C;AAEA,MAAMC,iBAAiB,CAAC;EACtBC,WAAW,GAAG;IACZ,IAAI,CAACC,WAAW,GAAG,CAAC;IACpB,IAAI,CAACC,MAAM,GAAG,KAAK;EACrB;EAEAC,kBAAkB,GAAG;IACnB,IAAI,CAACF,WAAW,IAAI,CAAC;IACrB,IAAI,CAACG,mBAAmB,EAAE;EAC5B;EAEAC,oBAAoB,GAAG;IACrB,IAAI,CAACJ,WAAW,IAAI,CAAC;IACrB,IAAI,CAACG,mBAAmB,EAAE;EAC5B;EAEAA,mBAAmB,GAAG;IACpB,IAAIf,QAAQ,EAAE;IACd,MAAM;MACJY;IACF,CAAC,GAAG,IAAI;IACR,MAAM;MACJN;IACF,CAAC,GAAGC,QAAQ;IACZ,MAAMU,OAAO,GAAGX,IAAI,CAACY,iBAAiB;IAEtC,IAAIN,WAAW,KAAK,CAAC,EAAE;MACrBN,IAAI,CAACa,eAAe,CAAClB,wBAAwB,CAAC;MAC9CK,IAAI,CAACa,eAAe,CAACjB,+BAA+B,CAAC;MAErD,IAAIe,OAAO,EAAE;QACXA,OAAO,CAACE,eAAe,CAAChB,gCAAgC,CAAC;MAC3D;MAEAiB,MAAM,CAACC,MAAM,CAAC,CAAC,EAAEjB,cAAc,CAAC;MAChC,IAAI,CAACS,MAAM,GAAG,KAAK;IACrB,CAAC,MAAM,IAAID,WAAW,GAAG,CAAC,IAAI,CAAC,IAAI,CAACC,MAAM,EAAE;MAC1CT,cAAc,GAAGgB,MAAM,CAACE,WAAW;MACnChB,IAAI,CAACiB,YAAY,CAACtB,wBAAwB,EAAE,EAAE,CAAC;MAE/C,IAAI,CAACI,kBAAkB,EAAE,EAAE;QACzBC,IAAI,CAACiB,YAAY,CAACrB,+BAA+B,EAAE,EAAE,CAAC;MACxD;MAEA,IAAIe,OAAO,EAAE;QACXA,OAAO,CAACM,YAAY,CAACpB,gCAAgC,EAAE,EAAE,CAAC;QAC1Dc,OAAO,CAACO,SAAS,GAAGpB,cAAc;MACpC;MAEA,IAAI,CAACS,MAAM,GAAG,IAAI;IACpB;EACF;EAEAY,mBAAmB,GAAG;IACpBrB,cAAc,GAAG,CAAC;EACpB;AAEF;AAEA,SAASH,wBAAwB,EAAES,iBAAiB"},"metadata":{},"sourceType":"module"}