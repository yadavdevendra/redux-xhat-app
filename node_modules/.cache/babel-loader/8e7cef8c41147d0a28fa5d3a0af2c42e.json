{"ast":null,"code":"import React, { useRef, useState, useCallback, useMemo, useLayoutEffect } from 'react';\nimport { debounce } from '../../../../utilities/debounce.js';\nimport { useEventListener } from '../../../../utilities/use-event-listener.js';\nimport styles from './Actions.scss.js';\nimport { MenuGroup } from '../MenuGroup/MenuGroup.js';\nimport { useI18n } from '../../../../utilities/i18n/hooks.js';\nimport { SecondaryAction } from '../SecondaryAction/SecondaryAction.js';\nimport { ButtonGroup } from '../../../ButtonGroup/ButtonGroup.js';\nconst ACTION_SPACING = 8;\nfunction Actions(_ref) {\n  let {\n    actions = [],\n    groups = [],\n    onActionRollup\n  } = _ref;\n  const i18n = useI18n();\n  const actionsLayoutRef = useRef(null);\n  const menuGroupWidthRef = useRef(0);\n  const availableWidthRef = useRef(0);\n  const actionsAndGroupsLengthRef = useRef(0);\n  const timesMeasured = useRef(0);\n  const actionWidthsRef = useRef([]);\n  const rollupActiveRef = useRef(null);\n  const [activeMenuGroup, setActiveMenuGroup] = useState(undefined);\n  const [measuredActions, setMeasuredActions] = useState({\n    showable: [],\n    rolledUp: []\n  });\n  const defaultRollupGroup = {\n    title: i18n.translate('Polaris.ActionMenu.Actions.moreActions'),\n    actions: []\n  };\n  const lastMenuGroup = [...groups].pop();\n  const lastMenuGroupWidth = [...actionWidthsRef.current].pop() || 0;\n  const handleActionsOffsetWidth = useCallback(width => {\n    actionWidthsRef.current = [...actionWidthsRef.current, width];\n  }, []);\n  const handleMenuGroupToggle = useCallback(group => setActiveMenuGroup(activeMenuGroup ? undefined : group), [activeMenuGroup]);\n  const handleMenuGroupClose = useCallback(() => setActiveMenuGroup(undefined), []);\n  const updateActions = useCallback(() => {\n    let actionsAndGroups = [...actions, ...groups];\n    if (groups.length > 0) {\n      // We don't want to include actions from the last group\n      // since it is always rendered with its own actions\n      actionsAndGroups = [...actionsAndGroups].slice(0, actionsAndGroups.length - 1);\n    }\n    setMeasuredActions(currentMeasuredActions => {\n      const showable = actionsAndGroups.slice(0, currentMeasuredActions.showable.length);\n      const rolledUp = actionsAndGroups.slice(currentMeasuredActions.showable.length, actionsAndGroups.length);\n      return {\n        showable,\n        rolledUp\n      };\n    });\n  }, [actions, groups]);\n  const measureActions = useCallback(() => {\n    if (actionWidthsRef.current.length === 0 || availableWidthRef.current === 0) {\n      return;\n    }\n    const actionsAndGroups = [...actions, ...groups];\n    if (actionsAndGroups.length === 1) {\n      setMeasuredActions({\n        showable: actionsAndGroups,\n        rolledUp: []\n      });\n      return;\n    }\n    let currentAvailableWidth = availableWidthRef.current;\n    let newShowableActions = [];\n    let newRolledUpActions = [];\n    actionsAndGroups.forEach((action, index) => {\n      const canFitAction = actionWidthsRef.current[index] + menuGroupWidthRef.current + ACTION_SPACING + lastMenuGroupWidth <= currentAvailableWidth;\n      if (canFitAction) {\n        currentAvailableWidth -= actionWidthsRef.current[index] + ACTION_SPACING * 2;\n        newShowableActions = [...newShowableActions, action];\n      } else {\n        currentAvailableWidth = 0; // Find last group if it exists and always render it as a rolled up action below\n\n        if (action === lastMenuGroup) return;\n        newRolledUpActions = [...newRolledUpActions, action];\n      }\n    });\n    if (onActionRollup) {\n      // Note: Do not include last group actions since we are skipping `lastMenuGroup` above\n      // as it is always rendered with its own actions\n      const isRollupActive = newShowableActions.length < actionsAndGroups.length - 1;\n      if (rollupActiveRef.current !== isRollupActive) {\n        onActionRollup(isRollupActive);\n        rollupActiveRef.current = isRollupActive;\n      }\n    }\n    setMeasuredActions({\n      showable: newShowableActions,\n      rolledUp: newRolledUpActions\n    });\n    timesMeasured.current += 1;\n    actionsAndGroupsLengthRef.current = actionsAndGroups.length;\n  }, [actions, groups, lastMenuGroup, lastMenuGroupWidth, onActionRollup]);\n  const handleResize = useMemo(() => debounce(() => {\n    if (!actionsLayoutRef.current) return;\n    availableWidthRef.current = actionsLayoutRef.current.offsetWidth; // Set timesMeasured to 0 to allow re-measuring\n\n    timesMeasured.current = 0;\n    measureActions();\n  }, 50, {\n    leading: false,\n    trailing: true\n  }), [measureActions]);\n  useEventListener('resize', handleResize);\n  useLayoutEffect(() => {\n    if (!actionsLayoutRef.current) return;\n    availableWidthRef.current = actionsLayoutRef.current.offsetWidth;\n    if (\n    // Allow measuring twice\n    // This accounts for the initial paint and re-flow\n    timesMeasured.current >= 2 && [...actions, ...groups].length === actionsAndGroupsLengthRef.current) {\n      updateActions();\n      return;\n    }\n    measureActions();\n  }, [actions, groups, measureActions, updateActions]);\n  const actionsMarkup = actions.map(action => {\n    if (measuredActions.showable.length > 0 || measuredActions.rolledUp.includes(action)) return null;\n    const {\n      content,\n      onAction,\n      ...rest\n    } = action;\n    return /*#__PURE__*/React.createElement(SecondaryAction, Object.assign({\n      key: content,\n      onClick: onAction\n    }, rest, {\n      getOffsetWidth: handleActionsOffsetWidth\n    }), content);\n  });\n  const rollUppableActionsMarkup = measuredActions.showable.length > 0 ? measuredActions.showable.map(action => action.content && /*#__PURE__*/React.createElement(SecondaryAction, Object.assign({\n    key: action.content\n  }, action, {\n    getOffsetWidth: handleActionsOffsetWidth\n  }), action.content)) : null;\n  const filteredGroups = [...groups, defaultRollupGroup].filter(group => {\n    return groups.length === 0 ? group : group === lastMenuGroup || !measuredActions.rolledUp.some(rolledUpGroup => isMenuGroup(rolledUpGroup) && rolledUpGroup.title === group.title);\n  });\n  const groupsMarkup = filteredGroups.map(group => {\n    const {\n      title,\n      actions: groupActions,\n      ...rest\n    } = group;\n    const isDefaultGroup = group === defaultRollupGroup;\n    const isLastMenuGroup = group === lastMenuGroup;\n    const [finalRolledUpActions, finalRolledUpSectionGroups] = measuredActions.rolledUp.reduce((_ref2, action) => {\n      let [actions, sections] = _ref2;\n      if (isMenuGroup(action)) {\n        sections.push({\n          title: action.title,\n          items: action.actions.map(sectionAction => ({\n            ...sectionAction,\n            disabled: action.disabled || sectionAction.disabled\n          }))\n        });\n      } else {\n        actions.push(action);\n      }\n      return [actions, sections];\n    }, [[], []]);\n    if (!isDefaultGroup && !isLastMenuGroup) {\n      // Render a normal MenuGroup with just its actions\n      return /*#__PURE__*/React.createElement(MenuGroup, Object.assign({\n        key: title,\n        title: title,\n        active: title === activeMenuGroup,\n        actions: groupActions\n      }, rest, {\n        onOpen: handleMenuGroupToggle,\n        onClose: handleMenuGroupClose,\n        getOffsetWidth: handleActionsOffsetWidth\n      }));\n    } else if (!isDefaultGroup && isLastMenuGroup) {\n      // render the last, rollup group with its actions and finalRolledUpActions\n      return /*#__PURE__*/React.createElement(MenuGroup, Object.assign({\n        key: title,\n        title: title,\n        active: title === activeMenuGroup,\n        actions: [...finalRolledUpActions, ...groupActions],\n        sections: finalRolledUpSectionGroups\n      }, rest, {\n        onOpen: handleMenuGroupToggle,\n        onClose: handleMenuGroupClose,\n        getOffsetWidth: handleActionsOffsetWidth\n      }));\n    } else if (isDefaultGroup && groups.length === 0 && finalRolledUpActions.length) {\n      // Render the default group to rollup into if one does not exist\n      return /*#__PURE__*/React.createElement(MenuGroup, Object.assign({\n        key: title,\n        title: title,\n        active: title === activeMenuGroup,\n        actions: finalRolledUpActions,\n        sections: finalRolledUpSectionGroups\n      }, rest, {\n        onOpen: handleMenuGroupToggle,\n        onClose: handleMenuGroupClose,\n        getOffsetWidth: handleActionsOffsetWidth\n      }));\n    }\n  });\n  const groupedActionsMarkup = /*#__PURE__*/React.createElement(ButtonGroup, {\n    spacing: \"extraTight\"\n  }, rollUppableActionsMarkup, actionsMarkup, groupsMarkup);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.ActionsLayout,\n    ref: actionsLayoutRef\n  }, groupedActionsMarkup);\n}\nfunction isMenuGroup(actionOrMenuGroup) {\n  return 'title' in actionOrMenuGroup;\n}\nexport { Actions };","map":{"version":3,"names":["React","useRef","useState","useCallback","useMemo","useLayoutEffect","debounce","useEventListener","styles","MenuGroup","useI18n","SecondaryAction","ButtonGroup","ACTION_SPACING","Actions","actions","groups","onActionRollup","i18n","actionsLayoutRef","menuGroupWidthRef","availableWidthRef","actionsAndGroupsLengthRef","timesMeasured","actionWidthsRef","rollupActiveRef","activeMenuGroup","setActiveMenuGroup","undefined","measuredActions","setMeasuredActions","showable","rolledUp","defaultRollupGroup","title","translate","lastMenuGroup","pop","lastMenuGroupWidth","current","handleActionsOffsetWidth","width","handleMenuGroupToggle","group","handleMenuGroupClose","updateActions","actionsAndGroups","length","slice","currentMeasuredActions","measureActions","currentAvailableWidth","newShowableActions","newRolledUpActions","forEach","action","index","canFitAction","isRollupActive","handleResize","offsetWidth","leading","trailing","actionsMarkup","map","includes","content","onAction","rest","createElement","Object","assign","key","onClick","getOffsetWidth","rollUppableActionsMarkup","filteredGroups","filter","some","rolledUpGroup","isMenuGroup","groupsMarkup","groupActions","isDefaultGroup","isLastMenuGroup","finalRolledUpActions","finalRolledUpSectionGroups","reduce","sections","push","items","sectionAction","disabled","active","onOpen","onClose","groupedActionsMarkup","spacing","className","ActionsLayout","ref","actionOrMenuGroup"],"sources":["/home/cedcoss/Desktop/redux-xhat-app/node_modules/@shopify/polaris/build/esm/components/ActionMenu/components/Actions/Actions.js"],"sourcesContent":["import React, { useRef, useState, useCallback, useMemo, useLayoutEffect } from 'react';\nimport { debounce } from '../../../../utilities/debounce.js';\nimport { useEventListener } from '../../../../utilities/use-event-listener.js';\nimport styles from './Actions.scss.js';\nimport { MenuGroup } from '../MenuGroup/MenuGroup.js';\nimport { useI18n } from '../../../../utilities/i18n/hooks.js';\nimport { SecondaryAction } from '../SecondaryAction/SecondaryAction.js';\nimport { ButtonGroup } from '../../../ButtonGroup/ButtonGroup.js';\n\nconst ACTION_SPACING = 8;\nfunction Actions({\n  actions = [],\n  groups = [],\n  onActionRollup\n}) {\n  const i18n = useI18n();\n  const actionsLayoutRef = useRef(null);\n  const menuGroupWidthRef = useRef(0);\n  const availableWidthRef = useRef(0);\n  const actionsAndGroupsLengthRef = useRef(0);\n  const timesMeasured = useRef(0);\n  const actionWidthsRef = useRef([]);\n  const rollupActiveRef = useRef(null);\n  const [activeMenuGroup, setActiveMenuGroup] = useState(undefined);\n  const [measuredActions, setMeasuredActions] = useState({\n    showable: [],\n    rolledUp: []\n  });\n  const defaultRollupGroup = {\n    title: i18n.translate('Polaris.ActionMenu.Actions.moreActions'),\n    actions: []\n  };\n  const lastMenuGroup = [...groups].pop();\n  const lastMenuGroupWidth = [...actionWidthsRef.current].pop() || 0;\n  const handleActionsOffsetWidth = useCallback(width => {\n    actionWidthsRef.current = [...actionWidthsRef.current, width];\n  }, []);\n  const handleMenuGroupToggle = useCallback(group => setActiveMenuGroup(activeMenuGroup ? undefined : group), [activeMenuGroup]);\n  const handleMenuGroupClose = useCallback(() => setActiveMenuGroup(undefined), []);\n  const updateActions = useCallback(() => {\n    let actionsAndGroups = [...actions, ...groups];\n\n    if (groups.length > 0) {\n      // We don't want to include actions from the last group\n      // since it is always rendered with its own actions\n      actionsAndGroups = [...actionsAndGroups].slice(0, actionsAndGroups.length - 1);\n    }\n\n    setMeasuredActions(currentMeasuredActions => {\n      const showable = actionsAndGroups.slice(0, currentMeasuredActions.showable.length);\n      const rolledUp = actionsAndGroups.slice(currentMeasuredActions.showable.length, actionsAndGroups.length);\n      return {\n        showable,\n        rolledUp\n      };\n    });\n  }, [actions, groups]);\n  const measureActions = useCallback(() => {\n    if (actionWidthsRef.current.length === 0 || availableWidthRef.current === 0) {\n      return;\n    }\n\n    const actionsAndGroups = [...actions, ...groups];\n\n    if (actionsAndGroups.length === 1) {\n      setMeasuredActions({\n        showable: actionsAndGroups,\n        rolledUp: []\n      });\n      return;\n    }\n\n    let currentAvailableWidth = availableWidthRef.current;\n    let newShowableActions = [];\n    let newRolledUpActions = [];\n    actionsAndGroups.forEach((action, index) => {\n      const canFitAction = actionWidthsRef.current[index] + menuGroupWidthRef.current + ACTION_SPACING + lastMenuGroupWidth <= currentAvailableWidth;\n\n      if (canFitAction) {\n        currentAvailableWidth -= actionWidthsRef.current[index] + ACTION_SPACING * 2;\n        newShowableActions = [...newShowableActions, action];\n      } else {\n        currentAvailableWidth = 0; // Find last group if it exists and always render it as a rolled up action below\n\n        if (action === lastMenuGroup) return;\n        newRolledUpActions = [...newRolledUpActions, action];\n      }\n    });\n\n    if (onActionRollup) {\n      // Note: Do not include last group actions since we are skipping `lastMenuGroup` above\n      // as it is always rendered with its own actions\n      const isRollupActive = newShowableActions.length < actionsAndGroups.length - 1;\n\n      if (rollupActiveRef.current !== isRollupActive) {\n        onActionRollup(isRollupActive);\n        rollupActiveRef.current = isRollupActive;\n      }\n    }\n\n    setMeasuredActions({\n      showable: newShowableActions,\n      rolledUp: newRolledUpActions\n    });\n    timesMeasured.current += 1;\n    actionsAndGroupsLengthRef.current = actionsAndGroups.length;\n  }, [actions, groups, lastMenuGroup, lastMenuGroupWidth, onActionRollup]);\n  const handleResize = useMemo(() => debounce(() => {\n    if (!actionsLayoutRef.current) return;\n    availableWidthRef.current = actionsLayoutRef.current.offsetWidth; // Set timesMeasured to 0 to allow re-measuring\n\n    timesMeasured.current = 0;\n    measureActions();\n  }, 50, {\n    leading: false,\n    trailing: true\n  }), [measureActions]);\n  useEventListener('resize', handleResize);\n  useLayoutEffect(() => {\n    if (!actionsLayoutRef.current) return;\n    availableWidthRef.current = actionsLayoutRef.current.offsetWidth;\n\n    if ( // Allow measuring twice\n    // This accounts for the initial paint and re-flow\n    timesMeasured.current >= 2 && [...actions, ...groups].length === actionsAndGroupsLengthRef.current) {\n      updateActions();\n      return;\n    }\n\n    measureActions();\n  }, [actions, groups, measureActions, updateActions]);\n  const actionsMarkup = actions.map(action => {\n    if (measuredActions.showable.length > 0 || measuredActions.rolledUp.includes(action)) return null;\n    const {\n      content,\n      onAction,\n      ...rest\n    } = action;\n    return /*#__PURE__*/React.createElement(SecondaryAction, Object.assign({\n      key: content,\n      onClick: onAction\n    }, rest, {\n      getOffsetWidth: handleActionsOffsetWidth\n    }), content);\n  });\n  const rollUppableActionsMarkup = measuredActions.showable.length > 0 ? measuredActions.showable.map(action => action.content && /*#__PURE__*/React.createElement(SecondaryAction, Object.assign({\n    key: action.content\n  }, action, {\n    getOffsetWidth: handleActionsOffsetWidth\n  }), action.content)) : null;\n  const filteredGroups = [...groups, defaultRollupGroup].filter(group => {\n    return groups.length === 0 ? group : group === lastMenuGroup || !measuredActions.rolledUp.some(rolledUpGroup => isMenuGroup(rolledUpGroup) && rolledUpGroup.title === group.title);\n  });\n  const groupsMarkup = filteredGroups.map(group => {\n    const {\n      title,\n      actions: groupActions,\n      ...rest\n    } = group;\n    const isDefaultGroup = group === defaultRollupGroup;\n    const isLastMenuGroup = group === lastMenuGroup;\n    const [finalRolledUpActions, finalRolledUpSectionGroups] = measuredActions.rolledUp.reduce(([actions, sections], action) => {\n      if (isMenuGroup(action)) {\n        sections.push({\n          title: action.title,\n          items: action.actions.map(sectionAction => ({ ...sectionAction,\n            disabled: action.disabled || sectionAction.disabled\n          }))\n        });\n      } else {\n        actions.push(action);\n      }\n\n      return [actions, sections];\n    }, [[], []]);\n\n    if (!isDefaultGroup && !isLastMenuGroup) {\n      // Render a normal MenuGroup with just its actions\n      return /*#__PURE__*/React.createElement(MenuGroup, Object.assign({\n        key: title,\n        title: title,\n        active: title === activeMenuGroup,\n        actions: groupActions\n      }, rest, {\n        onOpen: handleMenuGroupToggle,\n        onClose: handleMenuGroupClose,\n        getOffsetWidth: handleActionsOffsetWidth\n      }));\n    } else if (!isDefaultGroup && isLastMenuGroup) {\n      // render the last, rollup group with its actions and finalRolledUpActions\n      return /*#__PURE__*/React.createElement(MenuGroup, Object.assign({\n        key: title,\n        title: title,\n        active: title === activeMenuGroup,\n        actions: [...finalRolledUpActions, ...groupActions],\n        sections: finalRolledUpSectionGroups\n      }, rest, {\n        onOpen: handleMenuGroupToggle,\n        onClose: handleMenuGroupClose,\n        getOffsetWidth: handleActionsOffsetWidth\n      }));\n    } else if (isDefaultGroup && groups.length === 0 && finalRolledUpActions.length) {\n      // Render the default group to rollup into if one does not exist\n      return /*#__PURE__*/React.createElement(MenuGroup, Object.assign({\n        key: title,\n        title: title,\n        active: title === activeMenuGroup,\n        actions: finalRolledUpActions,\n        sections: finalRolledUpSectionGroups\n      }, rest, {\n        onOpen: handleMenuGroupToggle,\n        onClose: handleMenuGroupClose,\n        getOffsetWidth: handleActionsOffsetWidth\n      }));\n    }\n  });\n  const groupedActionsMarkup = /*#__PURE__*/React.createElement(ButtonGroup, {\n    spacing: \"extraTight\"\n  }, rollUppableActionsMarkup, actionsMarkup, groupsMarkup);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.ActionsLayout,\n    ref: actionsLayoutRef\n  }, groupedActionsMarkup);\n}\n\nfunction isMenuGroup(actionOrMenuGroup) {\n  return 'title' in actionOrMenuGroup;\n}\n\nexport { Actions };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}